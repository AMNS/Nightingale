NIGHTINGALE CHANGES (in DAB's current version and GitHub repository)
March 2013 to Present

Most of the files in my Nightingale Carbon code base have last modification dates of
April or May 2012; a few files are 2 June 2012, and it looks like that's the last source
code I share with David Gottlieb's AMNS version. This document describes all changes to
the AMNF code base since then, the earliest of which are dated 4 March 2013.  --DAB


March 2013 - ??

* CoreMidiUtils.cp: make DebugPrintf output more readable.
* Removed messages in log output for every note (or Sync?) played, e.g.:
      pL=1461: rect.l=288,r=294 paper.l=-20860,r=-20248
	The huge number of those messages overwhelmed everything else in the log. Affects
	MIDIPlay.cp: #define PLDEBUG as 0.
* Fixed a horrible and very confusing kludge for turning notehead graphs off and on that
	resulted in measures often being respaced far too widely when Show Duration Problems
	was on. Added #define for NOTEHEAD_GRAPH_WIDTH; made doNoteheadGraphs a global.
	Affects defs.h, vars.h, DrawNRGR, InitNightingale, SpaceTime.
* Initialize.cp: display most CNFG field values & all errors detected in them in log
	file; if config.whichMIDI is illegal, set it to a legal value (like most other
	fields).
* SpaceHighLevel.cp: improve debug print output for respacing.
* Increased the minimum legal value of config.lineLW from 1 to 5.
* Fixed bug: In the declaration of the Configuration struct, the _noteScanEpsXD_ field
	had somehow been deleted, resulting in misalignment of fields read in, nonsensical
	complaints about illegal CNFG values, ledger lines too long, etc. Affects
	applicationTypes.h .
* Debug output for playback is excessive; disable some. Affects MIDIPlay.cp: #define
	CMDEBUG as 0.
* Remove code to check expiration date. Affects InitNightingale.cp .

-----------------------------------------------------------------------------

March-June 2013

* Change max. tempo from 600 to 1200 BPM. Affects defs.h

* Print status of reading Prefs file, checking CNFG, etc. Affects Initialize.cp

* Advance expiration date by a year. Affects InitNightingale.cp

* Don't print info on every Sync as it's played. Affects MIDIPlay.cp

* Display values of all CNFG fields in log; if any are bad, list all bad ones in error
message. Affects Initialize.cp

* Fix "Respace sometimes leaves way too much space, especially after a dotted
note/chord" bug. Affects vars.h; DrawNRGR.c, InitNightingale.c, SpaceTime.c: add global
<doNoteheadGraphs> to say whether to display noteheads as tiny graphs; defs.h:
declaration of <NOTEHEAD_GRAPH_WIDTH>.

* Minor cleanup. Affects SpaceHighLevel.c; DrawUtils.cp: DrawMChar: removed #if'd-out
code

-----------------------------------------------------------------------------

mid-Aug. - Nov. 2013

* Add to QuickChange "Set tempo M.M. visibility to visible/invisible". Affects .rsrc:
add "M.M. visibility" to Tempo popup; SetUtils.c: add SetSelTempoVisible; SetCommand.c:
improve description of how to add features; various.

* DrawObject.cp: comment out DebugPrintf(s).

-------------------------------------------------------------------------------

23 Mar.- 5 Apr. 2015

* Get rid of the nonsensical statement about duration problems Score Info always gives
following its correct statement about duration problems. Affects ScoreInfo.c:
ScoreInfo(): remove two redundant lines of code just before call to HasMidiMap().

* Changes to Nightingale.rsrc:
	* Change "Midi" to "MIDI" in the "Midi Map" menu command, the MIDI Map dialog, and
		several error messages
	* Reduce size of the "MIDI Modifier Effects" dialog
	* Reduce size of the "Change Dynamic To" dialog
	* Remove phony politeness -- the word "Please" -- from various dialogs

* Increase max. play duration allowed in Set Duration dialog from 300% to 500%, mostly
to handle better the "logical 8th note with half-note head" situation (as in Brahms
piano music). NB: This doesn't help if the situation is "logical duration shorter than
8th note with half-note head", but that seems to be much less common. Affects .rsrc:
STR# 240; DialogsEditor.cp.

* Fix bug in Debug output: Debug Check incorrectly complains about (most? all?)
initial Keysigs of systems with no sharps/flats that their objRects are "GARBAGE
(UNSELECTABLE)". Affects DebugUtils.c: DCheckNode.

-------------------------------------------------------------------------------

11 May - 14 June 2015

* Add a "Relative Playback Speed..." command to the Play/Rec menu: it sets playback
tempi to a percentage of the "correct" (marked) tempos. Make its keyboard shortcut
command-8. (All letters and all other digits are already taken.) Set the shortcut for
Instrument MIDI Settings back to option-command-M. Affects .rsrc: STR# 240;
NightTemplates.h, NResourceID.h, vars.h, InitNightingale, Menu, MIDIDialogs, MIDIPlay.

* Change the default type for Save PostScript from "EPSF for one page" to "PostScript
text for entire file". Affects CarbonPrinting.cp .

* Change two error messages saying a problem is "probably" because of insufficient
memory to "perhaps" because of insufficient memory. Affects .rsrc: STR# 228.

* Fix bug: the channel and patch number in the Instrument settings dialog (from Master
Page) is initialized with illegal values instead of the instrument's current channel and
patch number. Affects InstrDialog.cp: InstrDialog().

* Add error check for patch no. in the Instrument settings dialog. Affects
InstrDialog.cp: InstrDialog().

* Correct wording of an error message from the Instrument settings dialog. Affects
.rsrc: STR# 265.

-------------------------------------------------------------------------------

22 July - 12 August

Increase the default window width, which is ridiculously narrow on a typical modern
display. Affects .rsrc: in WIND 2000, change 620 to 690. (This is still pretty narrow,
but just right for one letter-size page at 100% magnification; if the window is any
wider, it'll show a fraction of a second page, screwing up automatic page turning on
playback.)

Do debug printing for the Import MIDI File command if the shift & control keys are down;
minor cleanup. Affects MIDIFOpen.cp.

-------------------------------------------------------------------------------

30 August - 9 Sept.

Decrease the height of the "Change modifier" and "Add this modifier..." dialogs;
change wording of the latter from "notes" to "notes/rests". Affects .rsrc.

Change keyboard shortcut for Relative Playback Speed from command-8 (which was already
taken by Create Octave Sign!) to shift-command-0; make its dialog slightly wider; make
the MIDI Modifier Effects dialog slightly smaller. Affects .rsrc.

-------------------------------------------------------------------------------

12 - 16 Sept.

Fix bug (Issue #24) in MIDI file export where tempo changes after the first few are often ignored.
Affects MIDIPlay.cp: PlaySequence().

MIDIPlay.cp: Change most instances of "Midi" in function names to "MIDI"; improve
comments; minor cleanup.

MIDIFOpen.cp: In Debug prints for TEMPO metaevents, add "(TEMPO)"; rename the two
versions of GetRelObj (with different calling sequences: this assumes a C++ compiler,
a bad idea) to GetTempoRelObj and GetCtrlRelObj; clean up code.

MIDIFSave.cp: Clarify DebugPrintf's; warn (via DebugPrintf) if tempo change is at the
same time as a previous tempo change; minor cleanup.

-------------------------------------------------------------------------------

17 - 30 Sept.

Add an "Expanded" option to the text entry and Define Text Styles dialogs. Affects
.rsrc; defs.h; DrawObject, StringUtils, TextDialog.

StringToolbox.cp: minor cleanup.

MIDIPlay.cp: Change more instances of "Midi" in function names to "MIDI".

-------------------------------------------------------------------------------

2 - 4 October

Integrate my codebase with the codebase in the AMNS/Nightingale GitHub repository, which
dates from late June 2012. Integrated ca. 7 .h's and 19 .cp's, but -- as a result of
Geoff's large-scale cruft removal in 2012 -- almost all files changed.

Update/simplify About box. Affects About.cp, .rsrc: DLOG 451.

Change version number from 5.4 to 5.5! Affects Info.plist.

-------------------------------------------------------------------------------

27 Sept. - 18 Oct.

Add a "Mute Part" command to the Play/Rec menu; notes for the muted part will neither
be played nor written to an exported MIDI file. (Issue #26) Affects .rsrc; applicationTypes.h,
MIDIGeneral.h, NightTemplates.h, NResourceID.h; Documents, Menu, MIDIDialogs, MIDIPlay,
MIDIFSave, MIDIUtils, Part.

In code to display config fields: add _musicFontID_; rearrange to come closer to the
order of declarations; minor cleanup. Affects applicationTypes.h; Initialize.

PS_Stdio: clarify comments; minor cleanup.

Make Debug Check's checking for "SYSTEM AT xxx RECT PAST RIGHT MARGIN" less strict.
Affects DebugUtils.

-------------------------------------------------------------------------------

20 - 26 Oct.

Add to the config fields displayed _fastScreenSlurs_ & _enclWidthOffset_; clarify
comments; minor cleanup. Affects Initialize.

Clarify a comment. Affects DebugUtils.

Tweak the Info dialog for notes/rests and the one for most other symbols (DLOGs 596 and
598) to make them more readable. Affects .rsrc.

-------------------------------------------------------------------------------

27-28 Oct.			======== NIGHTINGALE 5.5 (28 Oct. 2015) ========

Fix bug: ExpandString() doesn't check for excessively long strings correctly. Affects
StringUtils.

Make the "expanded" option for regular text strings independent of the style instead of
part of the style definition; minor cleanup. Affects .rsrc; Browser, Check, DrawObject,
Insert, InsNew, InsNew.h, MIDIFOpen, NightTemplates.h, NTypes.h, TextDialog. NB: This
option is not entirely backwards compatible: some text in some old scores now comes out
(incorrectly) as "expanded" -- I don't know why.

Add an "expanded" option for text in tempo marks; minor cleanup. Affects .rsrc; Browser,
Check, DialogsEditor, DrawObject, Insert, InsNew, InsNew.h, MIDIFOpen, NightTemplates.h,
NTypes.h.


=======================================================================================


3-16 Nov.

Further tweak the Info dialog for notes/rests and the one for most other symbols (DLOGs
596 and 598) to make them more readable. Affects .rsrc; InfoDialog.

Clarify Browser display of the voice table. Affects Browser.

Preliminary work towards letting user say "when respacing, ignore the chord this note
belongs to". Affects .rsrc; Browser, InfoDialog, Objects, SpaceHighLevel, SpaceTime,
VoiceNumbers, NightTemplates.h, NTypes.h, vars.h.

Browser, InfoDialog, SpaceHighLevel, SpaceTime, VoiceNumbers, NTypes.h, vars.h: minor
cleanup.

Fix bug: when values are changed in many fields of the Sync Info and General Info
dialogs (DLOGs 596 and 598), the chars. for the new values are truncated because they
extend slightly below the boxes they're shown in. Affects .rsrc .

Tweak the Extended Info dialog (used for text strings, octave signs, and tuplets) to
make it more reaable. Affects .rsrc.

Display the tempo in effect in the Context window. Affects .rsrc; Browser.

-------------------------------------------------------------------------------

17-26 Nov.

Add staff no. to the Debug messages about note or grace note in another part's voice.
Affects Debug2Utils.

Remove useless #ifdef's; minor cleanup. Affects MIDIPlay, Debug.h, NTypes.h.

Fix bug: in the Sync Info dialog and the General Info dialog (used for measures/barlines
and text) some labels are truncated into unclarity; in Sync Info, the value of the Onset
Time is truncated into incorrectness. Affects .rsrc.

Make the Context window interpret dynamic level -- e.g., it now shows "3 (pp)", not
just "3". Affects Browser.

In error conditions, explain via DebugPrintf; minor cleanup. Affects Browser.

-------------------------------------------------------------------------------

28 Nov.

CarbonPrinting: minor cleanup.

Clarify error message for attempt to zoom in further than the Screen Page Layout
allows. Affects .rsrc .

-------------------------------------------------------------------------------

29 Nov. - 28 Dec.

Replace calls to DebugPrintf() -- which was simply #define'd as printf -- with calls to
a new function LogPrintf(), which uses syslog(Section 3) so messages go to the system
log and (optionally, via compile-time option) also to stderr (which appears in Xcode's
Run Log window if Nightingale is running inside Xcode). Affects DebugUtils.h; about 60
files.

In the project file, put precomp headers in proper alphabetical order.

Minor cleanup. Affects many files.

Make the Browser window interpret dynamic level for Dynamics and Measures-- e.g., it
now shows "3 (pp)", not just "3". Affects Browser.

On MIDI playback, if multiple notes are simultaneously playing the same note number on
the same channel but end at different times, either hold the note till the last one ends
or (via compile-time option, "#define MULTNOTES_PLAYMAXDUR") stop playing that note when
the first one ends, as Ngale has always done. (Issue #30) Affects MIDIUtils;
MIDIGeneral.h.

-------------------------------------------------------------------------------

28-31 Dec.

Add control (via compile-time option, in global variable _unisonsOK_) of whether
Nightingale complains about unisons (whether perfect or augmented) in a chord, (1)
when an attempt to create one is made and (2) in Debug command output. Affects vars.h;
Debug2Utils, InitNightingale, InsNew.

Minor cleanup; improve error checking slightly. Affects .rsrc; Context, Initialize,
MIDIPlay, Objects.

Fix bug: Double Selection often fails to update context in following objects correctly.
Affects Double.

Have Debug skip error messages for inconsistent links in beams if rests are present.

Remove unused parameter to EFixContForDynamic(). Affects Context.h; Context, Double,
MergeUtils, MoveUpDown.

Update version number in About box to 5.6b1. Affects info.plist .

-------------------------------------------------------------------------------

2 - 10 Jan. 2016

Change the name of the Preferences file to "Nightingale AMNF Prefs". Affects .rsrc;
VersionStrings.h; Initialize.

Fix bug: the MIDI driver code in the default CNFG resource (used when creating a new
"Nightingale AMNF Prefs" file) is illegal. Affects .rsrc .

In Browser, improve display of the voice-mapping table. Affects Browser.

Add hack code to swap staves in an existing score; it doesn't work for the intended
purpose and it's #ifdef'd out, but it might be useful with a simpler score.

Make Debug stop complaining about the first Sync of a measure in the clipboard not
being at time zero for the measure; make it stop complaining about valid bboxes of
final measures of right-justified systems. Affects DebugDisplay, DebugUtils.

Minor cleanup. Affects defs.h; Browser, DebugDisplay, DebugUtils, DrawObject, File,
Initialize, SpaceHighLevel, VoiceNumbers.

-------------------------------------------------------------------------------

11-14 Jan.			==== NIGHTINGALE 5.6b1 ====

Convert files encoded in Mac OS Roman to UTF-8; replace "sustain on" char. in code
with 0xA1 (its codepoint in Sonata). Affects DrawObject, Menu, DebugUtils.

Convert file with CRLF line endings to Unix. Affects defs.h.

Add a _friendly_ parameter to NameGraphicType() as in NameHeapType() & replace
inline code in BrowseGraphic() with a call to NameGraphicType. Affects Browser,
InfoDialog, UIFUtils.

Minor cleanup. Affects Browser, Double, InfoDialog, UIFUtils.

===============================================================================

18 - 3 Feb.

Change some default CNFG & other settings: "Default staff rastral size" (1) from 1
to 5; "Screen layout..." from vertical to horizontal; in MIDI Modifier values, increase
velocity offset for normal accent (>) from 30 to 40. Affects .rsrc.

Update version number in About box to 5.6b2. Affects info.plist .

Rename VoiceNumbers.cp to VoiceTable.cp.

Alphabetize precomp headers in the Xcode project.

When a (non-hairpin) dynamic is double-clicked, hilight its attachment point, as with
text graphics and tempo marks. Affects Check.c.

For tremolo slashes, reduce the slope considerably and the width slightly. Affects
DrawNRGR.

Make the "Can't find Prefs file: creating a new one" message stay on the screen longer.
Affects Initialize.

Clarify comments; minor (but in Initialize, not so minor!) cleanup. Affects defs.h,
Check.c, DrawNRGR, Initialize, UIFUtils.

Update long version no. to 5.6. Affects info.plist.

-------------------------------------------------------------------------------

5 Feb.			==== NIGHTINGALE 5.6b2 ====

Clarify comments; minor cleanup. Affects Error, Insert.

===============================================================================

9-17 Feb.

Improve Debug output format for readability; minor cleanup. Affects DebugDisplay.

Move tremolo slashes on upstemmed notes slightly to the right so they're centered
around the notes' stems. Affects DrawNRGR.

Minor cleanup. Affects DebugDisplay, DrawHighLvel, DrawNRGR, DrawObject.

Change version no. to 5.6b3. Affects .rsrc, Info.plist.

Display four more CNFG field values in log. Affects Initialize.

Add units to _tempoMarkHGap_ in the CNFG Resorcerer template. Affects .rsrc.

Rename SPACE objects to SPACER. Affects MemMacros.h, NTypes.h, vars.h, and
about 40 C files.

-------------------------------------------------------------------------------

25-26 Feb.			==== NIGHTINGALE 5.6b3 ====

Add to Debug Check a check for Measures of zero width that nonetheless contain
something. Affects DebugUtils.

===============================================================================

27-29 Feb.

Change the name of the OCTAVA object to OTTAVA; change comments, identifiers, etc.
accordingly. Affects about 70 files.

Update version number in About box to 5.6b4. Affects info.plist .

Restore mysteriously lost code changes; minor changes. Affects DebugUtils.

-------------------------------------------------------------------------------

2-7 Mar.

Improve feedback on screen font availability; minor cleanup. Affects InitNightinale.

Make the Browser & Context commands show clef type as string as well as code. Affects
Browser.

Fix bug: On PostScript output, piano pedal up and down symbols are unintelligible
because they're not drawn in a music font.

Add code to LogPrintf() to make it raise the level of messages below a given threshhold
before calling syslog(); this is to work around the odd fact that on my G5, messages
below LOG_NOTICE never go into the log, regardless of setlogmask(().

Make the Empty Measures command set its default measure range from the selection.
Affects Menu.

Minor cleanup. Affects DrawObject, MeasFill, Menu.

-------------------------------------------------------------------------------

8-11 Mar.			       ==== NIGHTINGALE 5.6b4 ====

The Score Info dialog is larger, and it now reports how many empty measures the score
contains and the measure no. of the first. Affects NightTemplates.h, MeasFill,
ScoreInfo; .rsrc: enlarge DLOG & add strings to STR#.

Change CNFG defaults:
	* In tempo/metronome marks, increase space between the tempo char. string and the
		note beginning the metronome mark from 0 eighth-spaces to 4
	* Increase "Additional top margin on 1st page" from 0 to 36 pts
	* Decrease "Min. space between lyrics" from 6 eighth-spaces to 4

Minor cleanup. Affects PitchCmds, ScoreInfo.

===============================================================================

21-25 Mar.

Update version number in About box to 5.6b5. Affects info.plist .

The default sizes of the three memory values in the CNFG were ridiculously low; increase
them by a factor of 10. (They're probably meaningless under any OS Ngale 5.x runs on,
but just in case.)

Fix bug: for tempo/metronome marks where tempo isn't given, the metronome mark is drawn
slightly to the right of where it should be. Affects DrawObject.

In feedback for dragging tempo/metronome marks, fix bug: the "expanded" attribute is
ignored; improve spacing between tempo and metronome mark (it still isn't quite
correct). Affects Dragging.

Rename the _string_ field of the Graphic object to _strOffset_. Affects NTypes.h; about
15 C files.

In the Context dialog, show the last previous Graphic for the staff, if there is one.
Affects Context.

Minor cleanup. Affects Dragging, Context, etc.

-------------------------------------------------------------------------------

27 Mar.-9 Apr.

Rename the string and _metroStr_ fields of the Tempo object to _strOffset_ and
_metroStrOffset_. Rename _headerStr_ and _footerStr_ to  _headerStrOffset_ and
_footerStrOffset_. Affects FileConversion.h, NTypes.h, MemMacros.h; about 10 C files.

The Score Info dialog now reports how many out-of-range notes the score contains and
the measure no. of the first. Affects ScoreInfo; .rsrc: add strings to STR#.

Fix bug: In a C score ("Transpose MIDI" unchecked), some notes are incorrectly considered
out of range because we were assuming the notation was transposed. Affects ScoreInfo,
PitchCmds.

Make the default top of the cello, double bass and trumpet ranges less conservative; the
default bottom of the double bass range less conservative; and the default top of the
bassoon range _more_ conservative. Change the heading on the Instrument dialog from
"Transposition and Range" to "Transposition and Written Range". Affects .rsrc.

Minor cleanup. Affects About, DrawObject, Extract, ExtractHighLevel, HeaderFooterDialog,
InstrDialog, Menu, MIDIFSave, MIDIUtils, ScoreInfo.

-------------------------------------------------------------------------------

11-13 Apr.

Get the string "selected parts" from a resource instead of compiling it in. Affects
.rsrc; ExtractHighLevel.

Move definition of FILENAME_MAXLEN to a header; use it in SaveNotelist() as well as
previous use. Affects NLimits.h; NotelistSave.

Move definitions of four limits from defs.h to NLimits.h.

Minor cleanup. Affects NLimits.h, Reconstruct.h; ExtractHighLevel, File, Menu,
MergeUtils, NotelistSave, Reconstruct, SelUtils.

-------------------------------------------------------------------------------

14 Apr. - 5 May			       ==== NIGHTINGALE 5.6b5 ====

Get with 21st-century conventions by taking filename extensions seriously: put the
part name in default filenames of extracted parts before the dot instead of at the
very end. Affects NightTemplates.h; ExtractHighLevel, StringUtils.

Fix bug: For first measure with an out-of-range note, Score Info often gives the wrong
number. Affects ScoreInfo.

Reword a few of Score Info's messages. Affects .rsrc; ScoreInfo.

Replace corrupted (empty) Nightingale 2004 Help file with (what I think is) the correct
version.

Re-organize Tech Notes, and update the file NightingaleTechNotes.txt .

Replace the commercially-oriented header on ca. 160 files referring to Advanced Music
Notation Systems with a kinder, gentler one referring to Avian Music Notation
Foundation; change the splash screen to name Avian Music Notation Foundation instead of
Adept Music Notation Solutions.

Minor cleanup. Affects MemMacros.h; DebugHighLevel, DebugUtils, DrawNRGR, DrawObject,
Extract, File, MasterPage, StringUtils, and a few others.

===============================================================================

9 - 31 May

Update version number in About box to 5.6b6. Affects info.plist .

Show the measure's time (in ticks from the beginning of the score) in the Info dialog
for measures. Affects .rsrc; InfoDialog.

Pull a new header for notation style definitions, style.h, out of defs.h. Also affects
Nightingale_Prefix.pch.

Try to keep default filenames of extracted parts from exceeding the (Mac Classic)
length limit of 31 chars. Affects ExtractHighLevel.

Don't let the default respacing percent in the Extract Parts dialog exceed 100. Affects
ExtractHighLevel.

Increase default max. no. of documents (in the CNFG resource) from 20 to 30; this should
be helpful mostly to make extracting parts from a large score more convenient. Affects
.rsrc.

Have all XXXAdvise() and XXXInform() functions call LogPrintf(), so something (including
the alert ID but not the actual message) appears in the system log.

Move LogPrintf and related functions from Utility to UIFUtils.

Remove #ifdef'd-out code & comments re "Mackey's disease". Affects Event, File, Menu.

Minor cleanup. Affects CarbonPrinting, DialogsEditor, DrawNRGR, InfoDialog, Initialize,
MasterPage.

-------------------------------------------------------------------------------

2-9 June

Make error checking of CNFG values count just one error each for page margin and page
number margin, no matter how many of their fields are out of bounds. Affects Initialize.

Show page header and footer in the Browser window; make the window wider and taller to
accomodate them. Affects .rsrc; Browser.

When parts are extracted, they now inherit page headers and footers from the score.

Move DelAddRedAccs from CFilesBoth to CFilesEditor.

When a file is opened normally or read-only via menu command, or opened via Apple Event,
send a message saying so to the log file. Affects Event, Menu.

When extracting parts, if in a series of TEMPO objects there's more than one relevant to
a part, we assume they're identical (e.g., for an orchestra score where the tempo mark
appears above the top staff and somewhere in the middle), so we extract only the first
one. Affects Extract.

Rename screen font files so all have the extension .bmap .

Rename the TEMPO object _tempo_ field to _tempoMM_; rename the Config _defaultTempo_
to _defaultTempoMM_. Affects ApplicationTypes.h, NTypes.h; Browser, Check, File, FileInput,
Initialize, Insert, InsNew, MIDIFOpen, MIDIFSave, MIDIRecord, MIDIUtils, NotelistParse.

Add to tempo/metronome mark dialog an option to have no M.M., so it has no effect on
playback timing. (Issue #84) Affects MemMacros.h; Browser, Check, DialogsEditor, Dragging,
DrawObject, InsNew, MIDIPlay, MIDIRecord, MIDIFSave, MIDIUtils, .rsrc.

Increase minimum legal tempo from 1 to 10 BPM. Affects DialogsEditor.

Minor cleanup. Affects Extract, ExtractHighLevel, HeaderFooterDialog, NTypes.h.

-------------------------------------------------------------------------------

12-14 June

Make the Browser, Context, and Score Info windows wider. Affects .rsrc.

Change inconsistent definitions of min. tempo M.M. to MIN_BPM (currently 10); rename
MAXBPM to MAX_BPM. Affects NLimits.h; DialogsEditor, Initialize; .rsrc.

Minor cleanup. Affects DialogsEditor.

-------------------------------------------------------------------------------

16 June			    ======== NIGHTINGALE 5.6 (16 June 2016) ========

In the Info dialog for notes and rests, make the Dur field wider, to accomodate values
like "-47" for a 47-bar rest. Affects .rsrc.

Rename the "Transpose MIDI" command to "Transposed Score"; not only is the latter
standard terminology, but it's what the related alert calls the command. Affects .rsrc.

Make the "MIDI Dynamic Prefs" and "Instrument MIDI Settings" dialogs a little prettier.
Affects .rsrc.

===============================================================================

23-24 June

Change version number from 5.6 to 5.7b1. Affects Info.plist.

Fix bug: Paste Merge, Set Duration, and Remove Rhythmic Gaps/Resynchronize give a
strange error message for GRDraws (lines) anywhere in the score, e.g., =>
"FixGRDrawLinks: for 1155, firstObj=1157 or lastObj=1161 isn't a Sync or a GRSync.",
when lastObj is a Measure, which is actually legal. Affects Reconstruct.

Minor cleanup. Affects style.h, DebugUtils, Reconstruct.

-------------------------------------------------------------------------------

26-27 June

Fix problem with Xcode project: Xcode 2.5 (at least) can't save certain source-code
files -- Browser, DebugUtils, Dragging -- because it doesn't know what their
encoding is.

Now that the Browser window is slightly larger, have it show the first 25 voices of
the voice-mapping table instead of 24. Affects Browser.

Have the Debug command check note play durations for "Check standard things", not just
"Check all possible"; fix a bug in its checking that results in complaints about notes
that are really okay. Affects DebugUtils.

Minor cleanup. Affects Browser, Clipboard, DebugUtils, Dragging.

-------------------------------------------------------------------------------

28 - 30 June

Discard alert resources (ALRTs 194 and 255) related to hardware copy protection and
serial numbers. Affects .rsrc; NResources.h.

Rename the Master Page commands "Add Part/Staff" and "Delete Part/Staff" to "Add Parts"
and "Delete Part", respectively. Affects .rsrc.

Pull GetVoiceTableLine() out of ShowVoicePage(). Affects Browser, VoiceTable.

Add to the Debug dialog an option to display the voice table; enlarge the dialog.
Affects .rsrc; DebugHighLevel.

For the "Split Part" command, distinguish between the cases where a default voice is
on one staff other than its "native" staff (may be able to handle it soon) and
where it's on multiple staves (much more difficult; unlikely we'll handle it any time
soon). Affects .rsrc; MPCommands.

Rename Boolean functions PartSel, PartRangeSel, & GroupSel to PartIsSel, PartRangeIsSel,
& GroupIsSel, respectively. Affects MasterPage.h; Event, MasterPage, Menu, MPCommands.

-------------------------------------------------------------------------------

1 - 5 July			       ==== NIGHTINGALE 5.7b1 ====

Make "Frame System Boxes" frame them in blue instead of black. Affects DrawHighLevel.

Improve error messages for the Split Part command. Affects .rsrc; MPCommands.

Minor cleanup. Affects DebugHighLevel, MPCommands.

===============================================================================

7 - 14 July

Change version number from 5.7b1 to 5.7b2. Affects Info.plist.

Fix problem with Xcode project: Xcode 2.5 (at least) can't open DrawObject because it's
damaged UTF-8, and it can't save defs.h because it's confused about its encoding.

Minor cleanup. Affects defs.h; DialogsEditor, DrawNRGR, DrawObject, Dragging,
MPCommands, TextDialog.

-------------------------------------------------------------------------------

17 July

Fixed bug (Issue #77): Trash on screen when Look at One Voice is in use. Affects
DrawUtils.

Minor cleanup. Affects DrawObject, Drawutils.

===============================================================================

19-20 July

Changed version number from 5.7b2 to 5.7b3. Affects Info.plist.

Improve standard (for Add Modifiers) position of the common accent (>). Affects InsNew.

Move FIInsertModNR() FileInput to a more appropriate "home" and rename it
AutoNewModNR(). Affects FileInput, InsNew.

Move two files from project folder CFilesBoth to CFilesEditor. Affects InsNew,
InsNewUtils.

Minor cleanup.

-------------------------------------------------------------------------------

22 July - 6 August			       ==== NIGHTINGALE 5.7b2 ====

Tweak standard (for Add Modifiers) position of circle (natural harmonic) note modifier.
Affects InsNew.

Rename MaxNameWidth() to MaxPartNameWidth(), GetFontIndex() to FontName2Index(). Affects
Utility and about eight others.

Added utility function Pstrlen; changed expressions of the form "if (blah[0])..." to
the far more understandable "if (Pstrlen(blah)>0)..." Affects DrawObject, StringUtils.

Change some instances of "unsigned char *blah[256]" to "Str255 blah". Affects DrawObject.

Add function FontID2Name. Affects Utility.

Rewrite DrawGRAPHIC() and DrawTEMPO() so both call a new function, DrawTextBlock();
other changes to prepare for multiline tempo marks. Affects DrawObject.

Minor cleanup. Affects DrawObject, DrawUtils, FileInput, InfoDialog, MusicFont, PS_Stdio,
Search, Utility.

===============================================================================

8 - 12 August			       ==== NIGHTINGALE 5.7b3 ====

Changed version number from 5.7b3 to 5.7b4. Affects Info.plist.

Add a note about starting new lines to the Tempo/Metronome dialog. Affects .rsrc.

Change expressions referring to "blah[0]" to get the length of a Pascal string to the
far more understandable "Pstrlen(blah)". Affects DialogsEditor, Documents, Dragging,
Undo.

Change some instances of "unsigned char *blah[256]" for Pascal strings to "Str255 blah".
Affects DialogsEditor, Dragging.

Clarify symbol type labels in Get Info dialogs, e.g., say "GRAPHIC: TEXT" instead of
just "TEXT". Affects InfoDialog.

Fix bug: feedback for dragging an expanded text Graphic isn't expanded. Affects
Dragging.

-------------------------------------------------------------------------------

13 - 26 August

Handle multiline tempo marks. Affects defs.h, DrawUtils,h; DialogsEditor, Dragging,
DrawObject, Utility.

Rewrite SDDrawTempo() for readability. Affects Dragging.

Minor cleanup. Affects Draw.h; DialogsEditor, DrawingEdit, DrawObject, DrawUtils,
TextDialog, Utility.

Update README.

-------------------------------------------------------------------------------

1 - 7 Sept.			       ==== NIGHTINGALE 5.7b4 ====

Remove numerous #ifndef PUBLIC_VERSIONs. Affects a bunch of files.

Incorporate Laurie S.'s changes to make Ngale compile with Xcode 7.3. Affects
About, CheckMerge, DrawObject, DurationPopUp, FileInput, NavServices.

In extracted parts, set Left End of Systems for "Other" systems (not the first) to
"No instrument names" and indent to 0. Affects Extract.

Minor cleanup. Affects MemMacros.h; DurationPopUp, ExtractHighLevel, MCaret, MIDIFOCmd,
MIDIRecord, NotelistParse, Objects, Reformat, Transcribe, UIFUtils.

===============================================================================

14 - 15 Sept.

Changed version number from 5.7b4 to 5.7b5. Affects Info.plist.

Minor cleanup. Affects MIDIGeneral.h; CoreMidiUtils, MIDIFSave, MIDIPlay, MIDIUtils,
NewSlur, TrackVMove.

Increase max. no. of tempo changes on playback from 100 to 300; reword error message
for exceeding the limit. Affects .rsrc; MIDIPlay.

-------------------------------------------------------------------------------

19 - 23 Sept.

Bring the Combine Parts dialog layout up to an acceptable level. Affects .rsrc.

Fix bug: if the Pan Settings dialog resource isn't available, Ngale gives the wrong
error message. Affects DialogsEditor.

Clarify the Change Patch dialog; improve its layout and that of the Pan Setting dialog.
Affects .rsrc.

Fix bug (Issue #114): While patch settings properly affect MIDI playback inside Ngale,
they have no effect on MIDI files Ngale writes. Affects MIDIFSave.

Minor cleanup. Affects MIDIGeneral.h; CoreMidiUtils, DebugDisplay, DialogsEditor,
MIDIFOCmd, MIDIFSave, MIDIPlay.

-------------------------------------------------------------------------------

24 - 27 Sept.

Trying to open certain old files that don't have the proper Ngale document icon, and
therefore probably don't have the correct pre-OS X-Finder file type ('SCOR'), by
dropping them on the Ngale program icon, used to just give an incomprehensible error
message and give up; Ngale now gives a meaningful message and it does try to open the
files (and in tests it succeeded). Affects .rsrc; NResource.h; Event.

Move def. of METAEVENT and its subcodes into a header. Affects MIDIGeneral.h; MIDIFOpen,
MIDIFSave.

Minor cleanup and enhancements. Affects MIDIGeneral.h; Documents, File, MIDIFOCmd,
MIDIFOpen, MIDIUtils.

-------------------------------------------------------------------------------

30 Sept. - 11 Oct.

Minor cleanup and enhancements. Affects Ottava.h; Dragging, MIDIFOpen, MIDIFSave,
Ottava, RTRhythmDur.

-------------------------------------------------------------------------------

12 - 15 Oct.			       ==== NIGHTINGALE 5.7b5 ====

Minor cleanup. Affects NightTemplates.h; Initialize, InitNightingale, Insert, Tuplet.

===============================================================================

17 - 20 Oct.

Changed version number from 5.7b5 to 5.7b6. Affects Info.plist.

Implement "nudging" a selected symbol -- note(s)/rest(s), text Graphic, dynamic,
or tempo/metronome mark -- via command-arrow keys. Affects Event. (Issue #119)

Clarify labels and minor cleanup in Get Info dialogs. Affects .rsrc; InfoDialog.

Minor cleanup. Affects Event, Menu.

-------------------------------------------------------------------------------

21 - 27 Oct.

Cleanup: get rid of all references to JG_NOTELIST. Affects compilerFlags.h,
NResourceID.h; Event, Menu, NotelistSave, Select, UIFUtils.

Replace some calls to PStrCopy with Pstrcpy. Affects About, Menu.

Change default staff rastral size for Open Notelist from 2 to 5 so that scores
with many staves are less likely to go off the bottom of the page.

Change all occurrences of _toPostscript_ to _toBitmapPrint_. Affects about
10 files.

Minor cleanup. Affects defs.h; CarbonPrinting, DrawHighLevel, Menu, NotelistConvert.

-------------------------------------------------------------------------------

29 Oct. - 2 Nov.

Add check for multiple Tempo/metronome mark objects at the same point in the score
whose tempo and M.M. strings aren't identical. Affects DebugHighLevel, Debug2Utils.

Update and clarify wording of two error messages that are given upon launching
Nightingale if a copy is already running. Affects .rsrc.

Remove obsolete LogPrintf's. Affects DialogsEditor.

Move NewSlur.cp from folder CFilesBoth to CFilesEditor. Affects Nightingale.xcodeproj.

Minor cleanup. Affects DrawObject, NewSlur.

-------------------------------------------------------------------------------

4-8 Nov.			       ==== NIGHTINGALE 5.7b6 ====

Implement "nudging" slurs/ties via command-arrow keys. Affects Event.

Alphabetize precomp headers. Affects Nightingale.xcodeproj.

In Get Info, show Graphic object subtypes in lower case, and widen the display field:
otherwise long names like "Arpeggio" won't be shown at all. Affects .rsrc; UIFUtils.

Minor cleanup. Affects MemMacros.h, NTypes.h; Event, Ottava, Slurs, SpaceTime.

===============================================================================

9-16 Nov.

Changed version number from 5.7b6 to 5.7b7. Affects Info.plist.

Fix bug in checking for multiple Tempo/metronome mark objects at the same point whose
tempo and M.M. strings aren't identical. For each pair being compared, if both don't
really _have_ tempo strings, skip the check; likewise for M.M strings. Affects
Debug2Utils.

Replace all calls to PStrCopy with Pstrcpy. Affects NightTemplates.h; about 18 C files.

In Notelists, skip writing clefs that are at the beginnings of systems and just for
context setting, the way key signatures have always been handled. Affects NotelistSave.

In Notelists, handle multiple-line tempo marks so as to keep the notelist entry on one
line.

-------------------------------------------------------------------------------

17-19 Nov.

Notelists have always shown styles 1 through 5 in Text graphics correctly, but listed
styles 6 through 9 as unknown; they now shown all styles correctly. Affects NotelistSave.

Clarify code & minor cleanup. Affects Notelist.h, SpaceTime.h; Check, Debug2Utils,
DrawObject, Extract, MIDIFSave, Ottava, Score, ScoreInfo, SpaceTime, TextDialog.

-------------------------------------------------------------------------------

20-23 Nov.

Make "Color Voices" the default for new scores. Affects Documents.

Notelists now give the measure number in Barline (Measure) lines. Affects NotelistSave.

Partial implementation of making Show Duration Problems also show individual staff-
measures that are incomplete. Affects .rsrc; SpaceTime.h, vars.h; DrawObject, Initialize.

Minor cleanup; improve code readability, etc. Affects defs.h, MemMacros.h, Utility.h;
Browser, Debug2Utils, Documents, DragBeam, DrawingEdit, DrawObject, HairpinEdit,
Initialize, Merge, MIDIFSave, RfmtRaw, Score, ScoreInfo, SpaceTime, Utility.

-------------------------------------------------------------------------------

24-28 Nov.			       ==== NIGHTINGALE 5.7b7 ====

Show Duration Problems now shows individual staff-measures that are incomplete as well
as entire measures (across all staves) that disagree with the time signature. Affects
DrawObject.

Make the Debug command check for cautionary time signatures at the end of a system when
there's a change of time signature at the beginning of the next system. Affects
Debug.h; Debug2Utils, DebugHighLevel.

Minor cleanup. Affects Utility.h; Browser, Context, DebugHighLevel, DelRedTimeSigs,
DragGraphic, Utility.

===============================================================================

30 Nov. - 2 Dec.

Changed version number from 5.7b7 to 5.7b8. Affects Info.plist.

Move some notation style parameters and music-font character definitions into the proper
headers. Affects defs.h, style.h; DrawNRGR, DrawUtils, SpaceTime.

Move all "Debug" routines for checking our data structure into DebugUtils, and all
routines for checking musical and music-notation constraints into Debug2Utils. Also
affects Debug.h.

Minor cleanup. Affects DebugHighLevel, Debug2Utils, DebugUtils, SpaceTime, Utility.

-------------------------------------------------------------------------------

9 Dec.

Have the Debug command check individual staff-measures that are incomplete as well
as entire measures (across all staves) that disagree with the time signature. Affects
Debug2Utils.

Minor cleanup. Affects DebugHighLevel, DrawObject, Menu.

-------------------------------------------------------------------------------

19 Dec.

Make default left and right end positions of octave signs extend a bit past the notes.
Affects Ottava.

Reword some references to Sonata in comments to clarify that they really apply to
any music font Nightingale handles. Affects vars.h; ChooseCharDlog, DragGraphic,
DrawUtils, PS_Stdio, TrackVMove, Tuplet, Utility.

Minor cleanup. Affects vars.h; DrawUtils, InitNightingale, Ottava.

-------------------------------------------------------------------------------

21-29 Dec.

In the Get Info dialog for Syncs, move the "T" (Tweaked) flag away from the preceding
text, and widen the dialog a bit. Affects .rsrc.

Fix bug: Select a grace note, Get Info, OK the dialog => Nightingale crashes. Affects
InfoDialog.

Make grace notes a tiny bit smaller, ala Gould's _Behind Bars_. Affects style.h.

Minor cleanup. Affects ChooseCharDlog, InfoDialog, Inval.

-------------------------------------------------------------------------------

7-9 Jan.

Implement "nudging" octave signs and tuplets via command-arrow keys. Affects Event.

Make Debug command messages for multiple time signatures in a measure and for missing
courtesy time signatures more helpful. Affects Debug2Utils.

Minor cleanup. Affects Debug2Utils, Event, MIDIFSave.

-------------------------------------------------------------------------------

10 Jan.			       ==== NIGHTINGALE 5.7b8 ====

Fix bug (Issue #124): Changing a measure rest to a multibar rest, changing the no. of
measures in a multibar rest, etc. should update measure numbers for the remainder of the
score, but they rarely (if ever) do. Affects InfoDialog.

Minor cleanup. Affects DSUtils, InfoDialog, InsNew, InsUtils, Search.

===============================================================================

14-19 Jan.

Changed version number from 5.7b8 to 5.7b9. Affects Info.plist.

Add measure no. to Debug command messages for a few things. Affects DebugUtils.h;
DebugUtils, Debug2Utils.

Use the same "Show Duration Problems" setting for parts as for the score they're
extracted from. Affects Extract.

Minor cleanup. Affects DebugUtils, Debug2Utils (change all "AT %u" to "L%u"),
DrawObject, Extract.

-------------------------------------------------------------------------------

21-25 Jan.

In Notelists, skip writing time signatures that are at the ends of systems and
presumably just "cautionary", similar to (but not quite the same as) the way key
signatures and clefs are handled. Affects NotelistSave.

Fix bug: If Show Duration Problems is checked, Nightingale "complains" about every
multibar rest. Affects DrawObject.

Make "Show Duration Problems" the default for new scores. Affects Documents.

Make Browser display voice no. as "iv=" instead of "v=" to clarify that it's the
internal, not user, voice number. Affects Browser.

Minor cleanup. Affects DrawNRGR, DrawObject, SpaceTime.

-------------------------------------------------------------------------------

26-27 Jan.

Add the measure no. to Debug command messages for a number of things. Affects
DebugUtils.h; DebugUtils, Debug2Utils.

Minor cleanup. Affects DrawNRGR, DebugUtils, Debug2Utils.

-------------------------------------------------------------------------------

29 Jan.-3 Feb.

Enlarge the Import MIDI File "Info" window to show 20 tracks at a time (vs. the previous
16). Affects .rsrc.

Add to the Score Info window the number of note attacks (i.e., sounding notes, as opposed
to written notes). Affects ScoreInfo.

In Export MIDI File code, greatly improve checking for FSWrite errors; rewrite code
that could have produced stale pointers to our HEAPs, hopefully fixing the "Export MIDI
File sometimes crashes or writes files with garbage timing" bug. Affects MIDIFSave.

Minor cleanup. Affects .rsrc; MIDIFOpen, MIDIFSave.

-------------------------------------------------------------------------------

3-5 Feb.

Change copyright notice dates to end in 2017. Affects .rsrc, Info.plist.

In Export MIDI File code, rewrite code that could have produced stale pointers to our
HEAPs, hopefully fixing the "Export MIDI File sometimes crashes or writes files with
garbage timing" bug (Issue #123). Affects MIDIFSave.

Fix bug in feedback for nudging Graphics (normally text) attached to the page. We've
been doing it by redrawing the music area, but that accomplishes nothing because it
almost never contains the Graphic; instead, redraw the entire window. Affects Inval.

Alleviate bug in feedback for drawing and nudging symbols that extend beyond a measure.
We've always done it in most cases (especially for nudging) by redrawing just the
measure the symbol belongs to. Instead, in all cases, after dragging and after each
nudge, redraw the previous Measure as well if it's in the same system; likewise for the
following Measure. This is enough for many cases and at least helps in the others.
Affects Inval.

Minor cleanup. Affects DrawObject, Inval, MIDIFOpen, MIDIFSave, Select.

-------------------------------------------------------------------------------

7 Feb.

Make metronome marks smaller (Issue #131): they've always been larger than the standard
size, and making them smaller is particularly important for parts, where measures tend
to be much narrower and more crowded, etc. Affects Style.h; Dragging, DrawObject.

-------------------------------------------------------------------------------

8-13 Feb.

Reorganize Browser code for readability. Affects Browser.

For code readability, rename the Measure _measureRect_ field -- which effectively just
contains a point giving the size of the entire Measure -- to _measSizeRect_. Affects
MemMacros.h, NTypes.h; about 16 C files.

Minor cleanup. Affects Browser, DebugUtils, SFormatHighLevel.

-------------------------------------------------------------------------------

15-20 Feb.

Add doc->selStartL and ->selEndL to Context display. Affects .rsrc; Browser.

Greatly simplify two InvalXxx() functions. Affects Inval.

Rename _LocateInsertPt_ to _FindInsertPt_ and _MeasRange_ to _GetMeasRange_. Affects
many files.

Minor cleanup. Affects MemMacros.h; Browser, DSUtils, InsUtils.

-------------------------------------------------------------------------------

21 Feb.			       ==== NIGHTINGALE 5.7b9 ====

Move DelSlurTie() from DragUtils to Slurs and rename it DeleteSlurTie(). Affects
Dragging.h, Slurs.h; DragUtils, Slurs.

Minor cleanup, mostly of dragging-related files. Affects MemMacros.h; Dragging,
DragSet, DragUtils, Slurs.

===============================================================================

22-26 Feb.

Changed version number from 5.7b9 to 5.7b10. Affects Info.plist.

Change the default value of config.minMemory from 1 to 200. Not that it matters anymore.
Affects Initialize.

Move #defines for notation style into styles.h. Affects DebugUtils.h; ChordSym,
DrawNRGR, Ottava.

Avoid possibly uninitialized variables. Affects Menu, MIDIFSave.

Minor cleanup. DebugUtils.h; DebugUtils, InstrDialog, Menu, MIDIFSave.

-------------------------------------------------------------------------------

27 Feb.

For consistency, rename defs.h and style.h to Defs.h and Style.h.

Make the "This file uses nn font(s) that aren't available in bit form..." alert
wider. Affects .rsrc.

Reorganize Style.h; rename some #defines for consistency. Affects Style.h; Dragging,
Ottava.

-------------------------------------------------------------------------------

28 Feb.-6 Mar.

Replace (at last!) our timed-loop delay function with something much more accurate
and far more robust against changes of processor speed, even drastic changes. Affects
Utility. (Issue #70)

Make "slop" values more explicit via #defines. Affects DragDynamic, UIFUtils.

Minor cleanup. Affects AccModNRMouse, DragDynamic, Dragging, DragUtils, DrawObject,
DSUtils, InitNightingale, UIFUtils, Utility.

-------------------------------------------------------------------------------

7-9 Mar.

Make SLOP #defines clearer by expanding their names and/or improving comments. Affects
MasterMouse, MasterPage, SFormatHighLevel, UIFUtils.

Other minor cleanup. Affects DragBeam, DSUtils, Insert, InsUtils, MasterMouse, Utility, 

-------------------------------------------------------------------------------

12-15 Mar.			       ==== NIGHTINGALE 5.7b10 ====

Avoid possibly uninitialized variables. Affects FileInput, Utility.

Move page-reformatting functions from MIDIFOpen to Utility. Affects those two & Utility.h.
 
Rename NotelistConvert.c to NotelistOpen.c.

Remove "#define CONVERTSCORE" and "#if CONVERTSCORE"s. Affects Notelist.h, NotelistOpen,
NotelistParse.

For readability, in the enum for score location type, capitalize all values. Affects
Defs.h; MoveUpDown, Reformat, RfmtRaw, Score.

Minor cleanup. Affects Notelist.h; FileInput, MIDIFOpen, NotelistParse, Score, Utility.

===============================================================================

16 Mar.

Changed version number from 5.7b10 to 5.7b11. Affects Info.plist.

Fix bug (Issue #136): Open Notelist often gets as far as "Arranging measures into systems",
then crashes. Affects Score.

Minor cleanup. Affects OpenNotelist, Reformat, Score, SpaceHighLevel.

-------------------------------------------------------------------------------

18 Mar.

Fix bug (Issue #138): Bounding boxes of tempo/metronome marks are too wide if the M.M.
isn't visible. Affects DrawObject.

Avoid possibly uninitialized variables. Affects DrawObject.

Minor cleanup. Affects DrawObject, Menu, MIDIPlay.

-------------------------------------------------------------------------------

19-20 Mar.

Avoid clearly or possibly uninitialized variables. Affects DialogsEditor, MIDIPlay,
Ottava, TextDialog.

Make "slop" values more explicit via #defines. Affects Slurs.

Minor cleanup. Affects MIDIPlay, MIDIUtils, Slurs, Ottava, TextDialog.

-------------------------------------------------------------------------------

21-22 Mar.

Remove checking for availability of Apple Events; since OS 7 of around 20 years ago,
they're always available. Affects ApplicData; Event, Initialize, Main.

Avoid 119 "missing braces" compiler warnings. Affects vars.h.

Minor cleanup. Affects vars.h; Events, Initialize, Main.

-------------------------------------------------------------------------------

23-28 Mar.			       ==== NIGHTINGALE 5.7b11 ====

Change the very misleading name FindStaff() to FindStaffSetSys(). Affects defs.h,
InsUtils.h; EditScore, Insert, InsUtils, NewSlur, Select, SelUtils, 

For clarity, rename the ASLUR field _endpoint_ to _endKnot. Affects MemMacros.h,
NTypes.h; Browser, DebugDisplay, Dragging, DragSet, DrawObject, Event, File, FileInput,
HeapBrowser, Score, Slurs.

Avoid many "missing braces" compiler warnings; other minor cleanup. Affects Dragging,
Error, InsNew, InsUtils, NotelistOpen, Select, Slurs.

===============================================================================

29 Mar.-3 Apr.

Changed version number from 5.7b11 to 5.7b12. Affects Info.plist.

Widen the Browser, Heap Browser, and Context dialogs slightly. Affects .rsrc.

Make "slop" values more explicit via #defines. Affects AccModNRMouse.

Minor cleanup. Affects MemMacros.h; AccModNRMouse, CheckUtils, ScoreInfo, Slurs.

-------------------------------------------------------------------------------

4-5 Apr.

Reorganize MemMacros; rename some MemMacros with Boolean values to clarify their
Boolean-ness. Affects MemMacros.h; CrossSystem, DebugUtils, Delete, File, InsUtils,
Reconstruct, Search, SysPageEdit.

Minor cleanup. Affects MemMacros.h; DebugUtils, InsUtils, Slurs, SysPageEdit.

-------------------------------------------------------------------------------

6-11 Apr.

Add an "Add Cautionary TimeSigs" command. Affects .rsrc, NResourceID.h, NTypes.h;
Menu, Undo.

Replace the "alternate" diagonal light gray shading pattern, indicating one type of
rhythm/time signature conflict, with a rectangular-grid pattern. Affects .rsrc; vars.h;
DrawObject.

Remove some redundant MemMacros and rename others; other minor cleanup. Affects
MemMacros.h; AutoBeam, Context, CrossSystem, DebugUtils, Debug2Utils, Documents,
ExtractHighLevel, Initialize, InsNewUtils, Menu, MIDIFSave, NotelistOpen,
Window.

-------------------------------------------------------------------------------

13-14 Apr.

Rename DelRedTimeSigs.cp => DelAddRedTimeSigs.cp; move AddCautionaryTimeSigs there.
Besides those two files, affects NightTemplates.h; Menu.

Minor cleanup. Affects DSUtils.h; CombineParts, DelAddRedAccs, DSUtils, EssentialTools,
Menu, MPCombineParts, NotelistOpen, ScoreInfo, Windows.

-------------------------------------------------------------------------------

15-19 Apr.

For the "Add Cautionary TimeSigs" command, fix bug with scores of more than one staff;
improve feedback on what it actually did. Affects .rsrc; DelAddRedTimeSigs, Menu.

Prettify the Respace dialog and one ALRT. Affects .rsrc.

Fix bug: Save Notelist should never write cautionary time signatures out, but if one
appears at the end of a page, it _is_ written out. Affects NotelistSave.

Rename a few data-structure utilities to clarify that they're Boolean-valued. Affects
DSUtils.h; DragSet, DSUtils, NewSlur, RfmtRaw.

Minor cleanup. Affects .rsrc; DebugUtils, DSUtils, Extract, Finalize, Menu, MIDIRecUtils,
NotelistSave, PS_Stdio, RTRhythmDur.

-------------------------------------------------------------------------------

20-23 Apr.	======== (FIRST CANDIDATE) NIGHTINGALE 5.7 (23 April 2017) ========

Changed version number from 5.7b12 to 5.7. Affects Info.plist.

The space percentage in the Extract dialog has always been initialized to
doc->spacePercent, but at most 100; instead, we now initialize it to the mean of
100 and doc->spacePercent, but at most 100. Affects ExtractHighLevel.

Add to the Respace dialog a brief comment on how it works. Affects .rsrc. (HOWEVER,
SourceTree doesn't recognize that it's been modified! How to get it into the
repository??)

Renamed two data-structure utilities to clarify they're Boolean-valued; minor cleanup.
Affects .rsrc; DSUtils.h, NResourceID.h; Debug2Utils, DrawObject, DrawUtils, DSUtils,
ExtractHighLevel, FlowInText, Menu, MIDIFSave, Objects, PS_Stdio, ScoreInfo.

25-30 Apr.

Changed version number from 5.7 to 5.8b1. Affects Info.plist.

Get rid of redundant string utility PStrCmp, and replace calls to it with calls to
Pstreql (Issue #78). Affects NightTemplates.h; ChordSym, Documents, FontUtils,
HeaderFooterDialog, Initialize, Preferences, PS_Stdio, Search.

Replaced "TRUE" and "FALSE" with the more standard "true" and "false". Affects style.h;
About, AutoBeam, Beam, Extract, StringUtils, Utility.

Rename ExpandString() to ExpandPString() and other minor cleanup. Affects
NightTemplates.h, Utility,h; About, AutoBeam, Beam, Dragging, DrawObject, Extract, File,
PS_Stdio, StringUtils, TextDialog, Utility.

-------------------------------------------------------------------------------

30 Apr.-3 May			 ======== NIGHTINGALE 5.7 (3 May 2017) ========


Replaced "TRUE" and "FALSE" with the more standard "true" and "false". Affects
StringUtils.

Minor cleanup. Affects ChordSym, StringUtils.

Redefine version 5.7 by changing the version number from 5.8b1 back to 5.7; this is
desirable because I failed to preserve the 5.7 source (as previously defined) in the
GitHub repository. Affects Info.plist.

===============================================================================

4-5 May

Changed version number from 5.7 to 5.8b1 (again). Affects Info.plist.

Replaced "TRUE" and "FALSE" with the more standard "true" and "false". Affects
AccModNRMouse, BeamBreak, Browser, CheckMerge, Clear, CrossSystem.

Moved HomogenizeSel() from SelUtils to SetUtils; other minor cleanup. Affects SelUtils.h;
AccModNRMouse, BeamBreak, Browser, CheckMerge, Clear, CrossSystem, SelUtils, SetUtils.

-------------------------------------------------------------------------------

6-10 May

Replaced "TRUE" and "FALSE" with the more standard "true" and "false". Affects Check,
Menu, PitchUtils, Tuplet, Undo.

Moved ShellSort() from SelUtils to Utility; other minor cleanup. Affects Utility.h;
SelUtils, Utility.

Fixed bug: Editing text always, and the Untuple command in rare circumstances, leave Undo
for the previous operation in place; now, both operations always just leave Undo
disabled. Affects Check, Tuplet. (An abandoned attempt to implement Undo for editing
text affects NTypes.h; .rsrc; Undo.)

Replaced some "unsigned char [256]" with "Str255" and "unsigned char*" with "StringPtr";
other minor cleanup. Affects Check, ChooseCharDlog, Menu, PitchUtils, TextDialog,
Tuplet, Undo, Utility.

-------------------------------------------------------------------------------

11-13 May

Fixed bug: Editing a tempo/metronome mark leaves Undo for the previous operation in place;
now, it just leave Undo disabled. Affects Check.

Replaced "TRUE" and "FALSE" with the more standard "true" and "false". Affects
CheckUtils, ChordSym.

Renamed three data-structure utilities to clarify that they're Boolean-valued. Affects
DSUtils.h; AccModNRMouse, CheckUtils, Clipboard, DSUtils, MergeUtils, MoveUpDown,
Ottava, Score, SFormatHighLevel, Tuplet.

Minor cleanup. Affects About, Check, CheckUtils, Clipboard, DSUtils, MergeUtils,
MoveUpDown, Utility.

-------------------------------------------------------------------------------

17-21 May

Replaced "TRUE" and "FALSE" with the more standard "true" and "false". Affects
CompactVoices, Context, FileInput, Merge.

Moved CompactVoices from folder CFilesBoth to CFilesEditor.

Minor cleanup. Affects CompactVoices, Context, FileInput, Menu, Merge.

-------------------------------------------------------------------------------

25-26 May

Removed code for handling Desk Accessories, which have been essentially obsolete for
the entire 21st century. Affects Menu.

Moved SetUtils from folder CFilesBoth to CFilesEditor, and Clipboard from CFilesEditor
to CFilesBoth.

Replaced "TRUE" and "FALSE" with the more standard "true" and "false". Affects Clipboard,
DSUtils, MoveUpDown.

Minor cleanup. Affects Clipboard, FileInput, Menu, MoveUpDown, SetUtils.

-------------------------------------------------------------------------------

28-31 May

Begin implementation of the "Paste as Cue" command. Affects .rsrc, Merge.h; Menu,
Merge.

Reword the very misleading "Can't merge" warning dialog so it's more accurate. Affects
.rsrc.

Move AvoidUnisons() and AvoidUnisonsInRange() from MIDIRecUtils to PitchUtils. Also
affects NightTemplates.h, PitchUtils.h.

Reduce the height of shading on the screen indicating individual staves in measures with
duration less than the time signature indicates. Affects DrawObject.

Minor cleanup. Affects Clipboard, DrawObject, DSUtils, Menu, Merge, MergeUtils,
MIDIFOCmd, Objects.

-------------------------------------------------------------------------------

1-7 June

Continue implementation of "Paste as Cue" command. Affects .rsrc, Merge.

Minor cleanup. Affects Merge, MergeUtils.

